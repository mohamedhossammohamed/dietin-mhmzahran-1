@import './styles/noise.css';
@import './styles/fonts.css';
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Cinzel+Decorative:wght@400;700;900&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Figtree:ital,wght@0,300..900;1,300..900&family=Noto+Kufi+Arabic:wght@100..900&family=Pacifico&family=Playwrite+CO+Guides&family=Rouge+Script&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;
    
    --primary: 190 100% 42%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 0 100% 71%;
    --secondary-foreground: 0 0% 100%;
    
    --muted: 0 0% 0% / 0.1;
    --muted-foreground: 0 0% 0% / 0.7;
    
    --accent: 0 0% 0% / 0.1;
    --accent-foreground: 0 0% 0%;
    
    --card: 0 0% 0% / 0.1;
    --card-foreground: 0 0% 0%;
    
    --popover: 0 0% 100% / 0.95;
    --popover-foreground: 0 0% 0%;
    
    --border: 0 0% 0% / 0.1;
    --input: 0 0% 0% / 0.1;
    
    --destructive: 0 100% 67%;
    --destructive-foreground: 0 0% 100%;

    --ring: 190 100% 42%;
    --radius: 1.75rem;
  }
}

/* Global reusable backdrop for modals/sheets that also paints behind the iOS status bar */
.app-backdrop {
  position: fixed;
  inset: 0;
  z-index: 50;
  background: rgba(0, 0, 0, 0.5);
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
  /* Ensure the safe area above content also shows the backdrop */
}
.app-backdrop::before {
  content: "";
  position: absolute;
  top: calc(-1 * env(safe-area-inset-top));
  left: 0;
  right: 0;
  height: env(safe-area-inset-top);
  background: inherit;
  -webkit-backdrop-filter: inherit;
  backdrop-filter: inherit;
}

/* Hide scrollbars but keep functionality */
* {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Hide scrollbar for Chrome, Safari and Opera */
*::-webkit-scrollbar {
  display: none;
}

html {
  height: 100%;
  width: 100%;
  /* Do NOT hide overflow globally; iOS PWA keyboard needs the viewport to resize */
  overflow: auto;
  overscroll-behavior-y: auto;
  -webkit-overflow-scrolling: touch;
}

body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: auto;
  color: black;
  background: #FFFFFF;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
  position: relative;
  padding-top: env(safe-area-inset-top);
  /* Remove bottom safe-area padding so the fixed BottomNav can visually cover the iOS home indicator area */
  padding-bottom: 0;
  -webkit-tap-highlight-color: transparent;
}

/* Invert-based Dark Mode (global) */
/* When <html> has class .theme-dark-invert, invert the whole UI to a dark theme */
.theme-dark-invert {
  /* Global invert-based dark with ~20% brightness and slightly softer contrast */
  filter: invert(1) hue-rotate(180deg) brightness(1.2) contrast(0.9);
}

/* Re-invert media so images/videos/etc appear normal */
.theme-dark-invert img,
.theme-dark-invert video,
.theme-dark-invert canvas,
.theme-dark-invert iframe,
.theme-dark-invert picture,
.theme-dark-invert svg {
  filter: invert(1) hue-rotate(180deg) !important;
}

/* Optional: provide a darker base for body so meta theme-color and computed styles reflect dark */
.theme-dark-invert body {
  color: #eef2f6; /* very light neutral */
  background: #2b2f36; /* neutral grey, lighter than pure dark */
}

/* No extra hover amplifications in dark mode (mobile UX) */

/* Keep BottomNav plus button black with white icon in dark mode */
.theme-dark-invert .bottom-nav .add-btn {
  /* Double-invert to restore original black background and white icon */
  filter: invert(1) !important;
}

/* Login button: make background white and icon black in dark mode */
.theme-dark-invert .login-btn {
  /* Invert the entire button so black bg -> white, white icon -> black */
  filter: invert(1) !important;
}
/* Cancel the global SVG re-invert inside login button so icon stays black */
.theme-dark-invert .login-btn svg {
  filter: none !important;
}

/* BottomNav default + active colors in dark mode */
.theme-dark-invert .bottom-nav .nav-item svg,
.theme-dark-invert .bottom-nav .nav-item span {
  color: #9ca3af !important; /* gray-400 default */
}
/* When component marks active as text-black, map it to indigo-500 in dark */
.theme-dark-invert .bottom-nav .nav-item .text-black {
  color: #6366f1 !important; /* indigo-500 */
}

/* No hover amplifications for BottomNav in dark mode */

/* When applied, completely lock page scroll (used during bottom nav touches) */
body.no-scroll {
  overflow: hidden !important;
}

#root {
  min-height: 100%;
  width: 100%;
  position: relative;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: auto;
  display: flex;
  flex-direction: column;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-black;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-black;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
  }

  /* Text color utilities */
  .text-default {
    @apply text-black;
  }

  .text-muted {
    @apply text-black/60;
  }

  .text-subtle {
    @apply text-black/40;
  }

  /* Background utilities */
  .bg-default {
    @apply bg-white;
  }

  .bg-card {
    @apply bg-white/95;
  }

  .bg-input {
    @apply bg-white;
  }

  .glass-card {
    @apply bg-white/95 backdrop-blur-lg border border-black/20 shadow-xl text-black;
  }

  .glass-button {
    @apply bg-black/20 hover:bg-black/30 backdrop-blur-lg border border-black/20 transition-all duration-300 text-black;
  }

  .gradient-border {
    @apply relative before:absolute before:inset-0 before:p-[1px] before:bg-gradient-to-r before:from-primary/50 before:to-secondary/50 before:rounded-[inherit] before:-z-10;
  }

  .animate-gradient {
    background: linear-gradient(-45deg, hsl(var(--primary)), hsl(var(--secondary)), #FFFFFF);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  /* Hide scrollbar utility */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* RTL Support */
.rtl {
  direction: rtl;
}

/* RTL specific styles */
.rtl .text-left {
  text-align: right;
}

.rtl .text-right {
  text-align: left;
}

.rtl .ml-auto {
  margin-left: 0;
  margin-right: auto;
}

.rtl .mr-auto {
  margin-right: 0;
  margin-left: auto;
}

.rtl .space-x-* > * + * {
  margin-left: 0;
  margin-right: var(--tw-space-x-reverse, 1rem);
}

.rtl .space-x-reverse > * + * {
  --tw-space-x-reverse: 1;
}